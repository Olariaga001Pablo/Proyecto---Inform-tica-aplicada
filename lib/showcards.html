<style>
    .search-container {
        height: auto;
        width: 100%;
        padding: 8px 16px;
        border: 1px solid #ccc;
        border-radius: 4px;
        margin-bottom: 16px;
    }
    .card {
        border: 1px solid #ccc;
        border-radius: 4px;
        padding: 16px;
        margin: 16px 0;
    }
    .container {
       display: flex;
       flex-direction: column;
       padding: 16px;
    }
    .navBar {
        display: flex;
        justify-content: space-between;
        margin-bottom: 16px;
        background-color: #f8f8f8;
        .button {
            background: none;
            border: none;
            padding: 8px 16px;
            cursor: pointer;
            &:hover {
                background-color: #eee;
            }
        }
    }
</style>

<div class="navBar">
    <button class="button" onclick="window.history.back()">Back</button>
    <button class="button" onclick="clicked('add')">Add Card</button>
    <button class="button" onclick="clicked('delete')">Delete Card</button>
    <button class="button" onclick="clicked('edit')">Edit Card</button>
    <button class="button" onclick="clicked('help')">Help</button>
</div>
<div>
    <input type="text" id="searchInput" class="search-container" placeholder="Search cards..." onkeyup="filterCards()" />
</div>

<section class="container"></section>
<script>
    function filterCards(){
        const searchTerm = document.getElementById('searchInput').value.toLowerCase();
        const cards = document.querySelectorAll('.card');
        cards.forEach(card => {
            const title = card.querySelector('h3').innerText.toLowerCase();
            const content = card.querySelector('p').innerText.toLowerCase();
            if (title.includes(searchTerm) || content.includes(searchTerm)) {
                card.style.display = 'block';
            } else {
                card.style.display = 'none';
            }
        });
    }





    const container = document.querySelector('.container');

    function createCard({ id, title, content }) {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
            <h3>${title}</h3>
            <p>${content}</p>
        `;
        return card;
    }

    async function getCardData() {
        console.log('Fetching card data...');
        const response = await fetch('http://localhost:3000/get'); // pedir los datos al backend
        const rows =  await response.json();
        rows.forEach(element => {
            const card = createCard(element);
            container.appendChild(card);
        });

          
    }

    getCardData();
    

     function clicked(action){
        switch(action){
            case 'add':
                // MÃ©todo recomendado para Electron: usar IPC
                if (window.electronAPI) {
                    window.electronAPI.loadPage('add.html');
                } else {
                    // Fallback para desarrollo web normal
                    window.location.href = 'add.html';
                }
                break;
            case 'show':
                if (window.electronAPI) {
                    window.electronAPI.loadPage('showcards.html');
                } else {
                    window.location.href = 'showcards.html';
                }
                break;
            case 'delete':
                if (window.electronAPI) {
                    window.electronAPI.loadPage('delete.html');
                } else {
                    window.location.href = 'delete.html';
                }
                break;
            case 'edit':
                if (window.electronAPI) {
                    window.electronAPI.loadPage('edit.html');
                } else {
                    window.location.href = 'edit.html';
                }
                break;
            case 'help':
                if (window.electronAPI) {
                    window.electronAPI.loadPage('help.html');
                } else {
                    window.location.href = 'help.html';
                }
                break;
        }
    }
    
</script>




